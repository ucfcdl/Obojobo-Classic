<IfModule mod_headers.c>
# P3P header to make IE happy so session will carry over even if Obojobo is embedded
Header set P3P 'CP="Obojobo does not have a P3P policy. View our privacy policy at http://www.ucf.edu/policy/"'
</IfModule>

<IfModule mod_rewrite.c>
RewriteEngine On
RewriteBase /

# MINIFY route minify urls to minify
RewriteRule ^min/([bfg]=.*)  assets/min/index.php?$1 [L,QSA]

# OBOJOBO dont rewrite these directories
RewriteRule ^(manager|assets) - [L]

# OBOJOBO Authors Preview Learning Objects
RewriteRule ^preview/([0-9]+)/?$ viewer.php?loID=$1 [L,QSA]

# OBOJOBO Students View Learning Objects
RewriteRule ^view/([0-9]+)/?$ viewer.php?instID=$1 [L,QSA]

# OBOJOBO Repository
RewriteRule ^repository/?$ repository.php [L,QSA]

# OBOJOBO  Media
RewriteRule ^media/([0-9]+)/?.*?$ assets/getAsset.php?id=$1 [L,QSA]

# OBOJOBO Shibboleth Integration
RewriteRule ^saml/metadata/?$ saml_metadata.php [L,QSA]
RewriteRule ^saml/acs/?$ saml_acs.php [L,QSA]

# BEGIN WordPress
RewriteRule ^index\.php$ - [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.php [L]
# END WordPress
</IfModule>
